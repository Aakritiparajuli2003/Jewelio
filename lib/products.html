<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Products – Jewelio</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

<style>
:root{
    --gold:#C5A572;
    --black:#222;
    --white:#fff;
    --light:#f7f7f7;
    --mint:#eaf7f6;
}

/* RESET */
*{
    margin:0;
    padding:0;
    box-sizing:border-box;
    font-family:"Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
}

body{
    background:var(--light);
}

/* HEADER */
header{
    position:fixed;
    top:0;
    width:100%;
    background:var(--white);
    padding:1.2rem 2rem;
    display:flex;
    justify-content:space-between;
    align-items:center;
    border-bottom:1px solid rgba(0,0,0,.1);
    z-index:100;
}

.logo{
    font-size:2rem;
    font-weight:600;
    text-decoration:none;
    color:var(--black);
}

.admin-nav{
    display:flex;
    gap:2rem;
}

.admin-nav a{
    text-decoration:none;
    color:#555;
    padding-bottom:5px;
}

.admin-nav a:hover,
.admin-nav a.active{
    color:var(--gold);
    border-bottom:2px solid var(--gold);
}

/* MAIN */
.main{
    padding:2.5rem;
    margin-top:6rem;
}

/* PAGE TITLE */
.page-title{
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:2rem;
}

.page-title h2{
    color:var(--black);
}

/* ADD PRODUCT BUTTON */
.add-product{
    background:var(--gold);
    color:white;
    border:none;
    padding:.7rem 1.2rem;
    border-radius:8px;
    font-size:15px;
    cursor:pointer;
}

/* PRODUCT GRID */
.products-grid{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
    gap:1.5rem;
}

/* PRODUCT CARD */
.product-card{
    background:var(--white);
    border-radius:14px;
    padding:1rem;
    transition:.3s;
}

.product-card:hover{
    transform:translateY(-4px);
}

/* IMAGE */
.product-img{
    height:160px;
    background:#eee;
    border-radius:10px;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:40px;
    color:#aaa;
    margin-bottom:.8rem;
}

.product-img img{
    width:120px;
    height:120px;
    border-radius:8px;
    object-fit: cover;
}

/* INFO */
.product-info h4{
    color:var(--gold);
    font-size:16px;
}

.product-info p{
    font-size:13px;
    color:#666;
    margin:.3rem 0;
}

.price{
    font-weight:bold;
    color:var(--black);
}

/* ACTIONS */
.product-actions{
    margin-top:.7rem;
    display:flex;
    justify-content:flex-end;
}

.product-actions i{
    margin-left:12px;
    cursor:pointer;
    color:#444;
}

.product-actions i:hover{
    color:var(--gold);
}

/* ================= MODAL STYLES ================= */

/* Modal Background */
.modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
}

/* Hide modal by default */
.hidden {
  display: none;
}

/* Modal content box */
.modal-content {
  background: var(--white);
  padding: 2rem;
  border-radius: 12px;
  width: 350px;
  box-shadow: 0 0 15px rgba(0,0,0,0.3);
  position: relative;
}

/* Close button (X) */
.close-btn {
  position: absolute;
  right: 15px;
  top: 10px;
  font-size: 24px;
  font-weight: bold;
  cursor: pointer;
}

/* Form labels and input boxes */
#productForm label {
  display: block;
  margin-top: 12px;
  font-weight: 600;
  color: var(--gold);
}

#productForm input {
  width: 100%;
  padding: 8px 10px;
  margin-top: 5px;
  border-radius: 6px;
  border: 1px solid #ccc;
  font-size: 14px;
}

/* Save button inside modal */
#productForm button.add-product {
  margin-top: 20px;
  width: 100%;
  font-size: 16px;
  background: var(--gold);
  border: none;
  color: white;
  border-radius: 8px;
  cursor: pointer;
}
</style>

</head>

<body>

<header>
    <a href="index.html" class="logo">JEWELIO</a>

    <nav class="admin-nav">
        <a href="index.html">Dashboard</a>
        <a href="#" class="active">Products</a>
        <a href="#">Orders</a>
        <a href="customer.html">Customers</a>
        <a href="#">Settings</a>
    </nav>
</header>

<div class="main">

    <div class="page-title">
        <h2>Products</h2>
        <button class="add-product" onclick="openModal()">
            <i class="fas fa-plus"></i> Add Product
        </button>
    </div>

    <div class="products-grid">

        <!-- PRODUCT 1 -->
<div class="product-card">
    <div class="product-img">
        <img src="Bracelets.jpg" alt="Gold Coated Bracelet">
    </div>
    <div class="product-info">
        <h4>Gold Coated Bracelet</h4>
        <p>22K Gold • Bracelet</p>
        <p class="price">Rs 12,500</p>
    </div>
    <div class="product-actions">
        <i class="fas fa-edit" onclick="editProduct(this)"></i>
        <i class="fas fa-trash" onclick="this.closest('.product-card').remove()"></i>
    </div>
</div>

<!-- PRODUCT 2 -->
<div class="product-card">
    <div class="product-img">
        <img src="Necklace For Party Evening.jpg" alt="Necklace For Party Evening">
    </div>
    <div class="product-info">
        <h4>Necklace For Party Evening</h4>
        <p>Pearl • Necklace</p>
        <p class="price">Rs 9,000</p>
    </div>
    <div class="product-actions">
        <i class="fas fa-edit" onclick="editProduct(this)"></i>
        <i class="fas fa-trash" onclick="this.closest('.product-card').remove()"></i>
    </div>
</div>


<!-- Product Form Modal -->
<div id="productModal" class="modal hidden">
  <div class="modal-content">
    <span class="close-btn" onclick="closeModal()">&times;</span>
    <h3 id="modalTitle">Add New Product</h3>
    <form id="productForm">
      <label for="productName">Product Name</label>
      <input type="text" id="productName" required />

      <label for="productDesc">Description</label>
      <input type="text" id="productDesc" required />

      <label for="productPrice">Price (Rs)</label>
      <input type="number" id="productPrice" required />

      <label for="productImage">Image URL</label>
      <input type="text" id="productImage" placeholder="e.g. image.jpg" required />

      <button type="submit" class="add-product">Save</button>
    </form>
  </div>
</div>

<script>
let editingCard = null;

function openModal() {
    document.getElementById('productModal').classList.remove('hidden');
}

function closeModal() {
    document.getElementById('productModal').classList.add('hidden');
    editingCard = null;
    document.getElementById('modalTitle').innerText = "Add New Product";
}

function editProduct(icon) {
    editingCard = icon.closest('.product-card');

    productName.value = editingCard.querySelector('h4').innerText;
    productDesc.value = editingCard.querySelector('.product-info p').innerText;
    productPrice.value = editingCard.querySelector('.price').innerText.replace('Rs ', '');
    productImage.value = editingCard.querySelector('img').src;

    document.getElementById('modalTitle').innerText = "Edit Product";
    openModal();
}

// ---------- UPDATED FORM SUBMIT JS ----------
document.getElementById('productForm').addEventListener('submit', function(e) {
    e.preventDefault();

    const name = productName.value;
    const desc = productDesc.value;
    const price = productPrice.value;
    const image = productImage.value;

    if (editingCard) {
        // Update existing product
        editingCard.querySelector('h4').innerText = name;
        editingCard.querySelector('.product-info p').innerText = desc;
        editingCard.querySelector('.price').innerText = `Rs ${price}`;
        editingCard.querySelector('img').src = image;
    } else {
        // Create new product card
        const card = document.createElement('div');
        card.className = 'product-card';
        card.innerHTML = `
            <div class="product-img">
                <img src="${image}" alt="${name}">
            </div>
            <div class="product-info">
                <h4>${name}</h4>
                <p>${desc}</p>
                <p class="price">Rs ${price}</p>
            </div>
            <div class="product-actions">
                <i class="fas fa-edit" onclick="editProduct(this)"></i>
                <i class="fas fa-trash" onclick="this.closest('.product-card').remove()"></i>
            </div>
        `;
        document.querySelector('.products-grid').appendChild(card);
    }

    closeModal();
    this.reset();
});
</script>

</body>
</html>
